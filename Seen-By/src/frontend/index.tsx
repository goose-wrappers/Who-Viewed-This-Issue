import React, {useEffect, useState} from 'react';
import ForgeReconciler, {Box, Inline, Text, User, UserGroup, xcss} from '@forge/react';
import {invoke} from '@forge/bridge';

interface IssueViewer {
	accountId: string;
	viewedAt: number;
}

const App = () => {

	const JUST_NOW_THRESHOLD = 1000 * 60 * 2; // 2 minutes
	const MINUTES_AGO_THRESHOLD = 1000 * 60 * 60; // 1 hour

	const [viewers, setViewers] = useState<Array<IssueViewer>>([]);
	const [watchingNow, setWatchingNow] = useState<Array<IssueViewer>>([]);

	useEffect(() => {
		invoke<Array<IssueViewer>>('getViewers', {}).then(value => {
			setViewers(value);

			const now = +new Date();
			const watchingNow = value.filter(viewer => now - viewer.viewedAt < JUST_NOW_THRESHOLD);
			setWatchingNow(watchingNow);
		});
	}, []);

	const timestampToDisplayString = (timestamp: number): string => {
		const now = +new Date();
		const diff = now - timestamp;
		if (diff < JUST_NOW_THRESHOLD) {
			return 'Just now';
		} else if (diff < MINUTES_AGO_THRESHOLD) {
			const minutes = Math.floor(diff / (1000 * 60));
			return `${minutes} minutes ago`;
		} else {
			return formatTimestampToCustomString(timestamp);
		}
	}

	const formatTimestampToCustomString = (timestamp: number): string => {
		const date = new Date(timestamp);
		return formatDateToCustomString(date);
	}

	const formatDateToCustomString = (date: Date): string => {
		const monthNames = [
			"January", "February", "March", "April", "May", "June",
			"July", "August", "September", "October", "November", "December"
		];

		const day = date.getDate();
		const monthIndex = date.getMonth();
		const year = date.getFullYear();
		let hour = date.getHours();
		const minute = date.getMinutes();
		const ampm = hour >= 12 ? 'PM' : 'AM';

		hour = hour % 12;
		hour = hour ? hour : 12; // the hour '0' should be '12'
		const minuteFormatted = minute < 10 ? '0' + minute : minute;

		return `${monthNames[monthIndex]} ${day}, ${year} at ${hour}:${minuteFormatted} ${ampm}`;
	}

	const seenCss = xcss({
		backgroundColor: "color.background.accent.lime.subtlest",
	});

	return (
		<>
			{watchingNow.length > 0 &&
				<>
					<Text>Watching now:</Text>
					<UserGroup>
						{watchingNow.map((viewer) => (
							<User accountId={viewer.accountId}/>
						))}
					</UserGroup>
				</>
			}

			{viewers.length > 0 &&
				<>
					<Text>Last viewed:</Text>
					<Box>
						{viewers.map((viewer) => (
							<Box>
								<Inline>
									<User accountId={viewer.accountId}/>
									{/*<Image alt="" size="medium" src="data:image/png;base64,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"></Image>*/}
									<Text>✓✓</Text>
								</Inline>
								<Box xcss={seenCss}>
									<Text>
										Seen: {timestampToDisplayString(viewer.viewedAt)}
									</Text>
								</Box>
							</Box>
						))}
					</Box>
				</>
			}
		</>
	);
};

ForgeReconciler.render(
	<React.StrictMode>
		<App/>
	</React.StrictMode>
);
